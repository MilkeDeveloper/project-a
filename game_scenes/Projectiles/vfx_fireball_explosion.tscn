[gd_scene load_steps=21 format=3 uid="uid://c74rasfa8qw8u"]

[ext_resource type="Texture2D" uid="uid://d3c7ku1q5ox28" path="res://VFX/Complex/smoke/smoke2_2.png" id="1_f0adc"]
[ext_resource type="Script" path="res://game_scenes/Projectiles/vfx_fireball_explosion.gd" id="1_iew7p"]
[ext_resource type="Texture2D" uid="uid://cbjtie3uetjqr" path="res://assets/textures/distortion_texture.png" id="3_a0pd3"]
[ext_resource type="AudioStream" uid="uid://1i5j0mx67hon" path="res://SFX/explosion-1-SBA-300286280-preview (2).mp3" id="4_uggvg"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_tr3pa"]
blend_mode = 1

[sub_resource type="Gradient" id="Gradient_i3dk7"]
offsets = PackedFloat32Array(0, 0.268041, 0.706186, 0.948454)
colors = PackedColorArray(1, 1, 0.164706, 0.4, 0.956863, 0.431373, 0.203922, 1, 0.803922, 0.419608, 0.258824, 0.623529, 0, 0, 0, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_4jnoo"]
gradient = SubResource("Gradient_i3dk7")

[sub_resource type="Curve" id="Curve_bv1pg"]
_data = [Vector2(0, 0.725275), 0.0, 0.0, 0, 0, Vector2(1, 0.0659341), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_mmvcj"]
curve = SubResource("Curve_bv1pg")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_kxujv"]
particle_flag_align_y = true
particle_flag_disable_z = true
angle_min = 1.07288e-05
angle_max = 1.07288e-05
direction = Vector3(0, 0, 0)
spread = 6.12
flatness = 0.368
angular_velocity_min = -1.60933e-05
angular_velocity_max = -1.60933e-05
radial_velocity_min = -26.01
radial_velocity_max = 152.29
gravity = Vector3(0, 0, 0)
radial_accel_min = -2.23517e-06
radial_accel_max = -2.23517e-06
scale_min = 0.1
scale_max = 0.5
scale_curve = SubResource("CurveTexture_mmvcj")
color_ramp = SubResource("GradientTexture1D_4jnoo")

[sub_resource type="Gradient" id="Gradient_vk47u"]
offsets = PackedFloat32Array(0, 0.891753, 1)
colors = PackedColorArray(0.470076, 0.470076, 0.470076, 1, 0, 0, 0, 0, 0, 0, 0, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_r2tr4"]
gradient = SubResource("Gradient_vk47u")

[sub_resource type="Curve" id="Curve_ntnwv"]
_data = [Vector2(0, 0.538462), 0.0, 0.0, 0, 0, Vector2(1, 0.164835), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_dqbrt"]
curve = SubResource("Curve_ntnwv")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_dt62i"]
particle_flag_disable_z = true
emission_shape = 1
emission_sphere_radius = 1.0
direction = Vector3(0, 0, 0)
spread = 99.72
flatness = 0.312
radial_velocity_min = -2.23517e-05
radial_velocity_max = 263.55
gravity = Vector3(0, 0, 0)
scale_min = 0.1
scale_max = 0.5
scale_curve = SubResource("CurveTexture_dqbrt")
color_ramp = SubResource("GradientTexture1D_r2tr4")

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_5qc7u"]
blend_mode = 1

[sub_resource type="Animation" id="Animation_x6yxw"]
resource_name = "Explosion"
length = 1.66667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("explosion:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.433333),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("smoke:emitting")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.433333),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("explosion2:emitting")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.433333),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1.63333),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"start_shake"
}, {
"args": [],
"method": &"queue_free"
}]
}
tracks/4/type = "audio"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("SFX")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.314585,
"stream": ExtResource("4_uggvg")
}],
"times": PackedFloat32Array(0)
}
tracks/4/use_blend = true
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("CollisionShape2D:disabled")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 0.366667),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("explosion/PointLight2D:visible")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 0.166667),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="Animation" id="Animation_hry1c"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("explosion:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("smoke:emitting")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("explosion2:emitting")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("CollisionShape2D:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("explosion/PointLight2D:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1r0a8"]
_data = {
"Explosion": SubResource("Animation_x6yxw"),
"RESET": SubResource("Animation_hry1c")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_0esyf"]
radius = 87.0

[node name="Fireball_explosion" type="Area2D"]
z_index = 1
collision_mask = 8
script = ExtResource("1_iew7p")

[node name="explosion" type="GPUParticles2D" parent="."]
material = SubResource("CanvasItemMaterial_tr3pa")
scale = Vector2(1, 0.86)
emitting = false
amount = 25
process_material = SubResource("ParticleProcessMaterial_kxujv")
texture = ExtResource("1_f0adc")
lifetime = 0.5
one_shot = true
explosiveness = 1.0
fixed_fps = 60

[node name="PointLight2D" type="PointLight2D" parent="explosion"]
color = Color(1, 0.556863, 0.0352941, 0.458824)
energy = 3.5
texture = ExtResource("3_a0pd3")
texture_scale = 2.02

[node name="smoke" type="GPUParticles2D" parent="."]
scale = Vector2(1, 0.86)
emitting = false
amount = 100
process_material = SubResource("ParticleProcessMaterial_dt62i")
texture = ExtResource("1_f0adc")
lifetime = 0.5
explosiveness = 1.0
fixed_fps = 60

[node name="explosion2" type="GPUParticles2D" parent="."]
material = SubResource("CanvasItemMaterial_5qc7u")
scale = Vector2(1, 0.86)
emitting = false
amount = 10
process_material = SubResource("ParticleProcessMaterial_kxujv")
texture = ExtResource("1_f0adc")
lifetime = 0.5
explosiveness = 1.0
fixed_fps = 60

[node name="anim" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_1r0a8")
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
scale = Vector2(1, 0.88)
shape = SubResource("CircleShape2D_0esyf")

[node name="SFX" type="AudioStreamPlayer2D" parent="."]
bus = &"SFX"

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
